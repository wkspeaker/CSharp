using System;
using System.Threading.Tasks;
using LangrisserTools.Core.Services;
using TimeCalculatorForGuild.Models;

namespace TimeCalculatorForGuild.Services
{
    /// <summary>
    /// 三本团时间计算工具的数据服务
    /// 继承自 Core 的通用数据服务基类
    /// </summary>
    public class TimeCalculatorDataService : DataService<TimeCalculator>
    {
        private const string DATA_FILE_NAME = "GuildInfo.json";

        public TimeCalculatorDataService() : base("TimeCalculatorForGuild")
        {
        }

        /// <summary>
        /// 加载数据（使用默认文件名）
        /// </summary>
        /// <returns>加载的 TimeCalculator 对象</returns>
        public TimeCalculator LoadData()
        {
            return LoadData(DATA_FILE_NAME);
        }

        /// <summary>
        /// 异步加载数据（使用默认文件名）
        /// </summary>
        /// <returns>加载的 TimeCalculator 对象</returns>
        public async Task<TimeCalculator> LoadDataAsync()
        {
            return await LoadDataAsync(DATA_FILE_NAME);
        }

        /// <summary>
        /// 保存数据（使用默认文件名）
        /// </summary>
        /// <param name="timeCalculator">要保存的 TimeCalculator 对象</param>
        public void SaveData(TimeCalculator timeCalculator)
        {
            SaveData(timeCalculator, DATA_FILE_NAME);
        }

        /// <summary>
        /// 异步保存数据（使用默认文件名）
        /// </summary>
        /// <param name="timeCalculator">要保存的 TimeCalculator 对象</param>
        public async Task SaveDataAsync(TimeCalculator timeCalculator)
        {
            await SaveDataAsync(timeCalculator, DATA_FILE_NAME);
        }
    }
}

